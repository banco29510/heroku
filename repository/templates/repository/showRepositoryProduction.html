{% extends "main/layout.html" %}
{% load staticfiles %}

{% block content %}


    <h2><center><em>{{ repository.name }}</em></center></h2>
	
	<table class="table table-striped table-hover ">
    <thead>
        <tr>
            <th>Icone</th>
            <th>Nom</th>
            <th>Auteur</th>
            <th>Taille du dépot</th>
            <th><center>Action</center></th>

        </tr>
    </thead>
    <tbody>
        <tr>


    {% for file in files %}

                <td>
                    {% if file.extension == '.jpg' or file.extension == '.jpeg' %}
                        <img src="{% static "images/file_icon/jpg.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% elif file.extension == '.ico' %}
                        <img src="{% static "images/file_icon/ico.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% elif file.extension == '.png' %}
                        <img src="{% static "images/file_icon/png.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% elif file.extension == '.html' %}
                        <img src="{% static "images/file_icon/html.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% elif file.extension == '.pdf' %}
                        <img src="{% static "images/file_icon/pdf.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% elif file.extension == '.svg' %}
                        <img src="{% static "images/file_icon/svg.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% elif file.extension == '.mp3' %}
                        <img src="{% static "images/file_icon/mp3.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% elif file.extension == '.ogg' %}
                        <img src="{% static "images/file_icon/ogg.svg" %}" alt="Icone {{ file.extension }}" width="50" height="25" class="img-responsive img-thumbnail">
                    {% else %}
                        <img src="{% static "images/file_icon/blank_image.svg" %}" alt="Icone image" width="50" height="25" class="img-responsive img-thumbnail">{{ file.extension }}
                    {% endif %}
                </td>

                <td><a href="{% url 'repository-showFile' file.id commit.id %}" >{{ file.nameWithoutExtension | capfirst }}</a></td>
                <td>{{ repository.scoreAuthor }}</td>
                <td>{{ file.size | filesizeformat }}</td>
                <td>
                    <a href="{% url 'repository-warningDownloadFile' file.id commit.id|urlencode %}">Télecharger</a>
                </td>


        </tr>
            {% empty %}
                <td colspan=1 ><center></center></td>
   	            <td colspan=1 ><center>Aucun fichier</center></td>
	        {% endfor %}
        </tr>
        <tr>
            <td><b>Total</b></td>
            <td></td>
            <td></td>
            <td>{{ repositorySize|filesizeformat }}</td>
            <td></td>

        </tr>
    </tbody>
</table>

{% if is_paginated %}
    <div class="text-center">
        <ul class="pagination pagination-centered">
            {% if files.has_previous %}
                <li><a href="?pageFiles={{ files.previous_page_number }}&pageCommits={{ commits.number }}&branch={{ branch }}">Précédente</a></li>
            {% endif %}

            <li class="active"><a>Page {{ files.number }} sur {{ files.paginator.num_pages }}</a></li>

            {% if files.has_next %}
                <li><a href="?pageFiles={{ files.next_page_number }}&pageCommits={{ commits.number }}&branch={{ branch }}">Suivante</a></li>
            {% endif %}
        </ul>
    </div>
{% endif %}

     <div class="panel panel-primary">
        <div class="panel-heading">
            <center><h3 class="panel-title">Readme.html</h3></center>
        </div>
        <div class="panel-body">
            <p>Lorem epsum</p>
        </div>
     </div>




      <a href="{% url 'repository-showRepositoryDeveloppement' repository.id %}">Participer à l'amélioration du dépôt</a><br />
      <a href="{% url 'repository-warningDownloadRepository' repository.id %}">Télécharger le dépôt</a><br />


<br /><br />

 {% endblock %}